!function(a){function b(b,f){d=!0,a("body").addClass("page-transition-active"),a(".page-transition-loading-bar").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){c(b,f),e=b,window.location.hash||(a("html, body").scrollTop(0),window.scrollTo(0,0)),a(".page-transition-loading-bar").off("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend")})}function c(b,c){a(".page-content").load(a.trim(b)+" .page-content-wrapper",function(e){var f=a(this).find(".page-content-wrapper");setTimeout(function(){a("body").get(0).className=f.data("bodyclass"),a("head title").html(f.data("headtitle")),a(".page-transition-loading-bar").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){d=!1,a(".page-transition-loading-bar").off("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend")})},1200),b!=window.location&&c&&window.history.pushState({path:b},"",b)})}var d=!1,e="",f=!1;top.location.protocol.toString()+"//"+top.location.host.toString();a("body").on("click",".page-transition",function(c){c.preventDefault();var e=a(this).attr("href");d||b(e,!0),f=!0}),a(window).on("popstate",function(){if(f){var a=location.pathname.split("/"),c=a[a.length-1];d||e==c||b(c,!1)}f=!0})}(jQuery);